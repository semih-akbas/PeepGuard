<!DOCTYPE html>
<html>
    <head>
      <title>PeepGuard</title>
      <script src="socket.io/socket.io.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
      <script src = "http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
      <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
  
        function drawChart() {
          var data = google.visualization.arrayToDataTable([
            ['Time', 'Temperature(°C)'],
            {{{temperature_data}}}
          ]);
  
          var options = {
            title: 'Temperature Trend',
            curveType: 'function',
            legend: { position: 'bottom' }
          };
  
          var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
  
          chart.draw(data, options);
        }
      </script>
      <script>
      $(document).ready(function(){
            var socket = io();
            $("#update_temperature").click(function(){
              //socket.emit('refresh-temperature');
            });
            socket.on('refresh-temperature',function(temperature){
              $("#current_temperature").text(temperature + ' °C');
            });
      });
      </script>
    </head>
    <body>
      <div style = "padding:20px;">
        <h2>PeepGuard: Diagnostics</h2>
        <input type="button" id="update_temperature" value="Refresh">
      </div>      
      <div style="margin:15px">
        <div style="float: left;padding: 10px;"><h4>Current Temperature: </h4></div>
        <h3><div id="current_temperature" style = "float: left;padding: 10px;margin-top:5px;"></div></h3>
      </div>
      <div>{{deneme}}</div>
      <div id = "curve_chart"
      class = "jumbotron"
      style = "width: 600px;
               height: 200px;
               padding: 0px;
               margin-left:-10px;
               margin-top:40px;">
      </div>
    </body>
  </html>